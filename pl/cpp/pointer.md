---
layout:     note
title:      指针
description: 魔法

---


#内存地址

所有的变量都是分布在内存中的，现在的高级语言一般都会屏蔽对于内存的直接操作, C&CC强大的地方在于开发者可以自由的控制内存的使用。

###取地址

`&` 操作符表示取一个变量的地址。

    int iVal = 12;
    printf("%p", &iVal);




#指针

指针保存的是一个内存地址。

    int iVal = 23;
    int *ptr;
    ptr = &iVal;

上面的代码中进行了如下操作:

1. 定义了一个变量iVal, iVal为整型, 并且赋值为23.
2. 定义了一个变量ptr, *ptr为整型, ptr为指向整型的指针.
3. p赋值为变量i的内存地址.



###大小

指针保存的是一个内存地址，所以指针本身占用的空间大小和操作系统有关，32位上指针为4字节，而64位系统上为8字节。


###const

下面代码中p1 是一个指向常量的指针，本身可变，指向的内容不可变; 而p2这个指针本身是常量，不可变，但其指向的内容可变。

    int a = 10;
    int b = 11;
    const int *p1 = &a;
    int * const p2 = &a;
    *p1 = 12; // err
    p1 = &b;
    *p2 = 12;
    p2 = &b;  //err








